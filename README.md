# tuibaozi-calculator
calculate tuibaozi probability and expect return
推豹子规则如下：
1.扑克牌1~8共32张，一个庄家M，三个闲门X Y Z，下注者若干P1...Pn
2.游戏开始时，下注者可以选择以下操作；下注方式有（1）下注任意闲门X Y Z任意金额；（2）下注“二门”任意金额；（3）下注“黑子”任意金额；（4）不下注；
3.下注结束后，由庄家发牌，庄家2张牌，每个闲门2张牌，每轮发牌消耗8张；如果发牌前，剩余牌堆不足8张，则重新洗牌，否则不洗；
4.发牌结束后，庄家需要和所有闲门比点，闲门不需要和闲门比点；比点规则为（1）如果两张牌点数不同，两张牌点数相加 mod 10 为最终点数；（2）如果两张牌点数相同，即所谓的“豹子”，最终点数为10+其中一张牌的点数；获胜规则为点数大者获胜，若点数相同则庄家获胜；
5.比点结束后，庄家对闲门XYZ依次进行赔付，规则为（1）若庄家胜，则该闲门前的所有下注金额归庄家所有；（2）若庄家输且闲门不是豹子，则庄家需要赔闲门相同的下注金额，所有下注这者按照该闲门的下注金额分红；（3）若庄家输，且闲门是豹子，庄家需要赔闲门二倍的下注金额，所有下注者按照该闲门的下注金额分红；
6.所有闲门赔付后，庄家对“二门”和“黑子”赔付，规则为（1）若有两个以上闲门获胜，则“二门”获胜，庄家需赔“二门”相同的下注金额，所有下注者对“二门分红，否则庄家赢得“二门”的下注金额；（2）若所有闲门均获胜，则庄家需要赔“黑子”三倍下注金额，所有下注者对“黑子”分红，否则庄家赢得“黑子”的下注金额；
